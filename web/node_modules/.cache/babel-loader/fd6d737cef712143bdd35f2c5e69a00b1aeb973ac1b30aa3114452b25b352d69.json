{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"ProvinceOrdersHeatmap\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"500px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1);\n}","map":{"version":3,"names":["id","style","_createElementBlock","_hoisted_1"],"sources":["/Users/raopend/IdeaProjects/spark-bilibili-analysis/web/src/components/ProvinceOrdersHeatmap.vue"],"sourcesContent":["<template>\n  <div id=\"ProvinceOrdersHeatmap\" style=\"width:100%;height:500px;\"></div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nexport default {\n    name: \"ProvinceOrdersHeatmap\",\n    mounted() {\n        axios.get('http://localhost:5000/ProvinceOrder')\n            .then(response => {\n                const data = response.data;\n                this.renderChart(data)\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    },\n    methods: {\n        renderChart(data) {\n            const chartDom = document.getElementById('ProvinceOrdersHeatmap');\n            const chart = echarts.init(chartDom);\n            const province = data.map(item => item.province_name);\n            const t_data = data.map(item => item.count);\n            const res = [];\n            for (let j = 0; j < t_data.length; j++) {\n                res.push({\n                    name: province[j],\n                    value: data[j]\n                });\n            }\n            res.sort(function (a, b) {\n                return a.value - b.value;\n            });\n            const res1 = [];\n            const res2 = [];\n\n\n            const option = {\n                //提示框信息\n                tooltip: {\n                    show: true,\n                    trigger: 'item',\n                },\n                //视觉映射\n                visualMap: {\n                    type: 'piecewise',\n                    text: ['高', '低'],\n                    pieces: [{\n                        min: 301,\n                        color: \"#bb0000\"\n                    },\n                        {\n                            min: 201,\n                            max: 300,\n                            color: \"#c92626\"\n                        },\n                        {\n                            min: 101,\n                            max: 200,\n                            color: \"#ce6c2b\"\n                        },\n                        {\n                            min: 50,\n                            max: 100,\n                            color: \"#c4aa29\"\n                        },\n                        {\n                            min: 11,\n                            max: 50,\n                            color: \"#92b733\"\n                        },\n                        {\n                            min: 1,\n                            max: 10,\n                            color: \"#6ead51\"\n                        },\n                    ],\n                    orient: 'vertical',\n                    itemSymbol: 'circle',\n                    itemWidth: 20,\n                    itemHeight: 20,\n                    showLabel: true,\n                    seriesIndex: [0],\n                    textStyle: {\n                        color: '#7B93A7'\n                    },\n                    bottom: '2%',\n                    left: \"3%\",\n                },\n                grid: {\n                    right: '5%',\n                    top: '20%',\n                    bottom: '10%',\n                    width: '20%'\n                },\n                xAxis: {\n                    min: 0,\n                    max: 4000,\n                    show: false\n                },\n                yAxis: {\n                    inverse: true,\n                    offset: '2',\n                    'type': 'category',\n                    data: res1,\n                    nameTextStyle: {\n                        color: '#fff'\n                    },\n                    axisTick: {\n                        show: false,\n                    },\n                    //Y轴刻度标签\n                    axisLabel: {\n                        textStyle: {\n                            fontSize: 11,\n                            color: '#000000',\n                        },\n                        interval: 0\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    splitLine: {\n                        show: false\n                    },\n                },\n                // 地理坐标系组件,绘制地图,散点图等\n                geo: {\n                    map: \"china\",\n                    roam: !1,\n                    scaleLimit: {\n                        min: 1,\n                        max: 2\n                    },\n                    zoom: 1.2,\n                    right: '35%',\n                    left: '20%',\n                    top: '20%',\n                    label: {\n                        normal: {\n                            show: !0,\n                            fontSize: \"10\",\n                            color: \"rgba(0,0,0,0.7)\"\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            //shadowBlur: 50,\n                            //shadowColor: 'rgba(0, 0, 0, 0.2)',\n                            borderColor: \"rgba(0, 0, 0, 0.2)\"\n                        },\n                        emphasis: {\n                            areaColor: \"#f2d5ad\",\n                            shadowOffsetX: 0,\n                            shadowOffsetY: 0,\n                            borderWidth: 0\n                        }\n                    }\n                },\n                //标题\n                title: {\n                    text: '全国各省订单分布情况',\n                    //subtext: '   ',\n                    left: '35%',\n                    top: '1%',\n                    textStyle: {\n                        color: 'black',\n                        fontSize: 25\n                    }\n                },\n                series: [{\n                    name: 'mapSer',\n                    type: 'map',\n                    map: 'china',\n                    roam: false,\n                    geoIndex: 0,\n                    label: {\n                        show: false,\n                    },\n                    data: res\n                },\n                    {\n                        name: 'barSer',\n                        type: 'bar',\n                        zlevel: 3,\n                        barWidth: '90%',\n                        label: {\n                            normal: {\n                                show: true,\n                                fontSize: 10,\n                                position: 'right',\n                                formatter: '{c}'\n                            }\n                        },\n                        data: res2,\n                        itemStyle: {\n                            normal: {\n                                color: function (params) {\n                                    // build a color map as your need.\n                                    var colorList = [{\n                                        colorStops: [{\n                                            offset: 0,\n                                            color: '#FF0000' // 0% 处的颜色\n                                        }, {\n                                            offset: 1,\n                                            color: '#990000' // 100% 处的颜色\n                                        }]\n                                    },\n                                        {\n                                            colorStops: [{\n                                                offset: 0,\n                                                color: '#00C0FA' // 0% 处的颜色\n                                            }, {\n                                                offset: 1,\n                                                color: '#2F95FA' // 100% 处的颜色\n                                            }]\n                                        }\n                                    ];\n                                    if (params.dataIndex < 3) {\n                                        return colorList[0]\n                                    } else {\n                                        return colorList[1]\n                                    }\n                                },\n                            }\n                        }\n                    }\n                ]\n            };\n            chart.setOption(option);\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";;EACOA,EAAE,EAAC,uBAAuB;EAACC,KAAgC,EAAhC;IAAA;IAAA;EAAA;;;uBAAhCC,mBAAA,CAAuE,OAAvEC,UAAuE"},"metadata":{},"sourceType":"module","externalDependencies":[]}