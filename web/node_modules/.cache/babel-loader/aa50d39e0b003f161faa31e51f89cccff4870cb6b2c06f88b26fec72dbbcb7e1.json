{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nexport default {\n  name: \"ProvinceOrdersHeatmap\",\n  mounted() {\n    axios.get('http://localhost:5000/ProvinceOrder').then(response => {\n      const data = response.data;\n      this.renderChart(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  methods: {\n    renderChart(data) {\n      const chartDom = document.getElementById('ProvinceOrdersHeatmap');\n      const chart = echarts.init(chartDom);\n      const province = data.map(item => item.province_name);\n      const t_data = data.map(item => item.count);\n      const res = [];\n      for (let j = 0; j < t_data.length; j++) {\n        res.push({\n          name: province[j],\n          value: data[j]\n        });\n      }\n      res.sort(function (a, b) {\n        return a.value - b.value;\n      });\n      const res1 = [];\n      const res2 = [];\n      const option = {\n        //提示框信息\n        tooltip: {\n          show: true,\n          trigger: 'item'\n        },\n        //视觉映射\n        visualMap: {\n          type: 'piecewise',\n          text: ['高', '低'],\n          pieces: [{\n            min: 301,\n            color: \"#bb0000\"\n          }, {\n            min: 201,\n            max: 300,\n            color: \"#c92626\"\n          }, {\n            min: 101,\n            max: 200,\n            color: \"#ce6c2b\"\n          }, {\n            min: 50,\n            max: 100,\n            color: \"#c4aa29\"\n          }, {\n            min: 11,\n            max: 50,\n            color: \"#92b733\"\n          }, {\n            min: 1,\n            max: 10,\n            color: \"#6ead51\"\n          }],\n          orient: 'vertical',\n          itemSymbol: 'circle',\n          itemWidth: 20,\n          itemHeight: 20,\n          showLabel: true,\n          seriesIndex: [0],\n          textStyle: {\n            color: '#7B93A7'\n          },\n          bottom: '2%',\n          left: \"3%\"\n        },\n        grid: {\n          right: '5%',\n          top: '20%',\n          bottom: '10%',\n          width: '20%'\n        },\n        xAxis: {\n          min: 0,\n          max: 4000,\n          show: false\n        },\n        yAxis: {\n          inverse: true,\n          offset: '2',\n          'type': 'category',\n          data: res1,\n          nameTextStyle: {\n            color: '#fff'\n          },\n          axisTick: {\n            show: false\n          },\n          //Y轴刻度标签\n          axisLabel: {\n            textStyle: {\n              fontSize: 11,\n              color: '#000000'\n            },\n            interval: 0\n          },\n          axisLine: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          }\n        },\n        // 地理坐标系组件,绘制地图,散点图等\n        geo: {\n          map: \"china\",\n          roam: !1,\n          scaleLimit: {\n            min: 1,\n            max: 2\n          },\n          zoom: 1.2,\n          right: '35%',\n          left: '20%',\n          top: '20%',\n          label: {\n            normal: {\n              show: !0,\n              fontSize: \"10\",\n              color: \"rgba(0,0,0,0.7)\"\n            }\n          },\n          itemStyle: {\n            normal: {\n              //shadowBlur: 50,\n              //shadowColor: 'rgba(0, 0, 0, 0.2)',\n              borderColor: \"rgba(0, 0, 0, 0.2)\"\n            },\n            emphasis: {\n              areaColor: \"#f2d5ad\",\n              shadowOffsetX: 0,\n              shadowOffsetY: 0,\n              borderWidth: 0\n            }\n          }\n        },\n        //标题\n        title: {\n          text: '全国各省订单分布情况',\n          //subtext: '   ',\n          left: '35%',\n          top: '1%',\n          textStyle: {\n            color: 'black',\n            fontSize: 25\n          }\n        },\n        series: [{\n          name: 'mapSer',\n          type: 'map',\n          map: 'china',\n          roam: false,\n          geoIndex: 0,\n          label: {\n            show: false\n          },\n          data: res\n        }, {\n          name: 'barSer',\n          type: 'bar',\n          zlevel: 3,\n          barWidth: '90%',\n          label: {\n            normal: {\n              show: true,\n              fontSize: 10,\n              position: 'right',\n              formatter: '{c}'\n            }\n          },\n          data: res2,\n          itemStyle: {\n            normal: {\n              color: function (params) {\n                // build a color map as your need.\n                var colorList = [{\n                  colorStops: [{\n                    offset: 0,\n                    color: '#FF0000' // 0% 处的颜色\n                  }, {\n                    offset: 1,\n                    color: '#990000' // 100% 处的颜色\n                  }]\n                }, {\n                  colorStops: [{\n                    offset: 0,\n                    color: '#00C0FA' // 0% 处的颜色\n                  }, {\n                    offset: 1,\n                    color: '#2F95FA' // 100% 处的颜色\n                  }]\n                }];\n\n                if (params.dataIndex < 3) {\n                  return colorList[0];\n                } else {\n                  return colorList[1];\n                }\n              }\n            }\n          }\n        }]\n      };\n      chart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["axios","echarts","name","mounted","get","then","response","data","renderChart","catch","error","console","log","methods","chartDom","document","getElementById","chart","init","province","map","item","province_name","t_data","count","res","j","length","push","value","sort","a","b","res1","res2","option","tooltip","show","trigger","visualMap","type","text","pieces","min","color","max","orient","itemSymbol","itemWidth","itemHeight","showLabel","seriesIndex","textStyle","bottom","left","grid","right","top","width","xAxis","yAxis","inverse","offset","nameTextStyle","axisTick","axisLabel","fontSize","interval","axisLine","splitLine","geo","roam","scaleLimit","zoom","label","normal","itemStyle","borderColor","emphasis","areaColor","shadowOffsetX","shadowOffsetY","borderWidth","title","series","geoIndex","zlevel","barWidth","position","formatter","params","colorList","colorStops","dataIndex","setOption"],"sources":["/Users/raopend/IdeaProjects/spark-bilibili-analysis/web/src/components/ProvinceOrdersHeatmap.vue"],"sourcesContent":["<template>\n  <div id=\"ProvinceOrdersHeatmap\" style=\"width:100%;height:500px;\"></div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nexport default {\n    name: \"ProvinceOrdersHeatmap\",\n    mounted() {\n        axios.get('http://localhost:5000/ProvinceOrder')\n            .then(response => {\n                const data = response.data;\n                this.renderChart(data)\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    },\n    methods: {\n        renderChart(data) {\n            const chartDom = document.getElementById('ProvinceOrdersHeatmap');\n            const chart = echarts.init(chartDom);\n            const province = data.map(item => item.province_name);\n            const t_data = data.map(item => item.count);\n            const res = [];\n            for (let j = 0; j < t_data.length; j++) {\n                res.push({\n                    name: province[j],\n                    value: data[j]\n                });\n            }\n            res.sort(function (a, b) {\n                return a.value - b.value;\n            });\n            const res1 = [];\n            const res2 = [];\n\n\n            const option = {\n                //提示框信息\n                tooltip: {\n                    show: true,\n                    trigger: 'item',\n                },\n                //视觉映射\n                visualMap: {\n                    type: 'piecewise',\n                    text: ['高', '低'],\n                    pieces: [{\n                        min: 301,\n                        color: \"#bb0000\"\n                    },\n                        {\n                            min: 201,\n                            max: 300,\n                            color: \"#c92626\"\n                        },\n                        {\n                            min: 101,\n                            max: 200,\n                            color: \"#ce6c2b\"\n                        },\n                        {\n                            min: 50,\n                            max: 100,\n                            color: \"#c4aa29\"\n                        },\n                        {\n                            min: 11,\n                            max: 50,\n                            color: \"#92b733\"\n                        },\n                        {\n                            min: 1,\n                            max: 10,\n                            color: \"#6ead51\"\n                        },\n                    ],\n                    orient: 'vertical',\n                    itemSymbol: 'circle',\n                    itemWidth: 20,\n                    itemHeight: 20,\n                    showLabel: true,\n                    seriesIndex: [0],\n                    textStyle: {\n                        color: '#7B93A7'\n                    },\n                    bottom: '2%',\n                    left: \"3%\",\n                },\n                grid: {\n                    right: '5%',\n                    top: '20%',\n                    bottom: '10%',\n                    width: '20%'\n                },\n                xAxis: {\n                    min: 0,\n                    max: 4000,\n                    show: false\n                },\n                yAxis: {\n                    inverse: true,\n                    offset: '2',\n                    'type': 'category',\n                    data: res1,\n                    nameTextStyle: {\n                        color: '#fff'\n                    },\n                    axisTick: {\n                        show: false,\n                    },\n                    //Y轴刻度标签\n                    axisLabel: {\n                        textStyle: {\n                            fontSize: 11,\n                            color: '#000000',\n                        },\n                        interval: 0\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    splitLine: {\n                        show: false\n                    },\n                },\n                // 地理坐标系组件,绘制地图,散点图等\n                geo: {\n                    map: \"china\",\n                    roam: !1,\n                    scaleLimit: {\n                        min: 1,\n                        max: 2\n                    },\n                    zoom: 1.2,\n                    right: '35%',\n                    left: '20%',\n                    top: '20%',\n                    label: {\n                        normal: {\n                            show: !0,\n                            fontSize: \"10\",\n                            color: \"rgba(0,0,0,0.7)\"\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            //shadowBlur: 50,\n                            //shadowColor: 'rgba(0, 0, 0, 0.2)',\n                            borderColor: \"rgba(0, 0, 0, 0.2)\"\n                        },\n                        emphasis: {\n                            areaColor: \"#f2d5ad\",\n                            shadowOffsetX: 0,\n                            shadowOffsetY: 0,\n                            borderWidth: 0\n                        }\n                    }\n                },\n                //标题\n                title: {\n                    text: '全国各省订单分布情况',\n                    //subtext: '   ',\n                    left: '35%',\n                    top: '1%',\n                    textStyle: {\n                        color: 'black',\n                        fontSize: 25\n                    }\n                },\n                series: [{\n                    name: 'mapSer',\n                    type: 'map',\n                    map: 'china',\n                    roam: false,\n                    geoIndex: 0,\n                    label: {\n                        show: false,\n                    },\n                    data: res\n                },\n                    {\n                        name: 'barSer',\n                        type: 'bar',\n                        zlevel: 3,\n                        barWidth: '90%',\n                        label: {\n                            normal: {\n                                show: true,\n                                fontSize: 10,\n                                position: 'right',\n                                formatter: '{c}'\n                            }\n                        },\n                        data: res2,\n                        itemStyle: {\n                            normal: {\n                                color: function (params) {\n                                    // build a color map as your need.\n                                    var colorList = [{\n                                        colorStops: [{\n                                            offset: 0,\n                                            color: '#FF0000' // 0% 处的颜色\n                                        }, {\n                                            offset: 1,\n                                            color: '#990000' // 100% 处的颜色\n                                        }]\n                                    },\n                                        {\n                                            colorStops: [{\n                                                offset: 0,\n                                                color: '#00C0FA' // 0% 处的颜色\n                                            }, {\n                                                offset: 1,\n                                                color: '#2F95FA' // 100% 处的颜色\n                                            }]\n                                        }\n                                    ];\n                                    if (params.dataIndex < 3) {\n                                        return colorList[0]\n                                    } else {\n                                        return colorList[1]\n                                    }\n                                },\n                            }\n                        }\n                    }\n                ]\n            };\n            chart.setOption(option);\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}